المرحلة 2 — “خطة الطلب” (Wizard) + الإرسال (API أو Fallback)

بعد نجاح المرحلة 1، الصق هذا النص في Replit AI:

المهمة: إضافة مسار طلب احترافي داخل نفس صفحة <PAGE_PATH> على هيئة Wizard من 4 خطوات بمؤشر تقدّم، يسمح للمستخدم بتحديد نوع المشروع والميزات ورفع مرفقات ثم إرسال الطلب إلى مالك المنصّة.

(أ) بنية الـ Wizard (4 خطوات)

أضف قسمًا بعد الهيرو بعنوان فرعي: “ابدأ خطة طلب مشروعك”، ثم أنشئ Wizard متوافق RTL وResponsive:

الفئة الرئيسية للمشروع (Radio Cards — خيار واحد):

تجاري | تعليمي | أخرى

إن اختار “أخرى” أظهر حقل نصي قصير لوصف الفئة.

(اختياري مبسّط دون إغراق في الأنواع: سنُحدّد “نوع التنفيذ” في نفس الخطوة كحقول فرعية صغيرة)

نوع التنفيذ (فرعي مختصر):

موقع ويب | متجر إلكتروني | منصّة/بوابة
(Check/Radio صغير بجانب الفئة، للاختيار السريع دون إطالة القوائم)

الميزات الأساسية (Checkbox Cards قصيرة، عنوان + وصف وجيز)، التزم بالنسق:

حسابات وصلاحيات أدوار (auth_roles)

إدارة محتوى (CMS بسيط) (cms_core)

تعدد اللغات (عربي/إنجليزي) (i18n)

وضع ليلي/نهاري (dark_mode)

استجابة كاملة للأجهزة (responsive_ui)

تحسينات SEO أساسية (seo_basics)

تحليلات ولوحة مؤشرات (analytics_dashboard)

نماذج وتواصل (نموذج اتصال/اشتراك) (forms_contact)

بحث داخل الموقع (site_search)

تكاملات API وخدمات خارجية (integrations)

(خاص بالمتجر) منتجات وسلّة ودفع/شحن (ecom_core)

(خاص بالمنصّة) وحدات/أدوار/تدفّقات عمل (platform_modules)

أمان أساسي (حماية نماذج/معدّلات) (security_basics)

أداء وتخزين مؤقت (Cache/CDN إن وُجد) (perf_caching)

ملاحظة: لا تُظهر ميزات التجارة/المنصّة للمستخدم إلا إذا كان “نوع التنفيذ” = متجر أو منصّة.

المرفقات والمتطلبات

رفع ملفات متعددة (صور/PDF/Doc/ZIP) بقيود حجم معقولة، وإظهار اسم الملف والحجم.

حقل “وصف موجز للفكرة” (إجباري مع حد أدنى منطقي للحروف).

حقول اختيارية: الجمهور المستهدف، النطاق/الدومين (إن وُجد)، الاستضافة الحالية (نعم/لا).

المراجعة والإرسال

اعرض ملخصًا واضحًا: الفئة + نوع التنفيذ + الميزات المختارة + عدد/أسماء المرفقات + ملخص الفكرة.

زر “إرسال الطلب”.

(ب) الإرسال عبر API (المفضّل) أو Fallback

إن وُجد endpoint جاهز (مثل: POST /api/requests)، أرسل JSON بالصيغة التالية (عدّل أسماء المفاتيح لتتوافق مع نمط الكود، مع الحفاظ على المعاني):

{
  "serviceId": "<استخرج معرف الخدمة المرتبط بـ <PAGE_PATH> إن كان متاحًا وإلا أرسل pagePath>",
  "pagePath": "<PAGE_PATH>",
  "requestType": "website_platform",
  "category": "commercial | educational | other",
  "categoryOtherNote": "string|null",
  "buildKind": "website | ecommerce | platform",
  "features": [
    "auth_roles",
    "cms_core",
    "i18n",
    "dark_mode",
    "responsive_ui",
    "seo_basics",
    "analytics_dashboard",
    "forms_contact",
    "site_search",
    "integrations",
    "ecom_core",
    "platform_modules",
    "security_basics",
    "perf_caching"
  ],
  "ideaSummary": "string (required)",
  "attachments": [
    { "fileName": "string", "size": 12345, "mime": "application/pdf", "tempUrl": "string|nullable" }
  ],
  "clientOptions": {
    "targetAudience": "string|nullable",
    "domain": "string|nullable",
    "hasHosting": "boolean|nullable"
  },
  "submittedAt": "ISO8601",
  "clientMeta": {
    "locale": "ar",
    "rtl": true,
    "userAgent": "string"
  }
}


إن لم توجد واجهة خلفية:

خزّن نفس الـ JSON في localStorage بمفتاح مثل: gsc_web_request_draft.

افتح نافذة بريد mailto: لمالك المنصّة متضمنة ملخّص النص وروابط المرفقات إن أمكن، أو تعليمات تسليمها.

اعرض Toast/Alert نجاح متوافق مع الثيم.

(ج) ضوابط التصميم والتنفيذ

التزم تمامًا بثيم المنصّة (ألوان/خط/مسافات/RTL/أنيميشن)، ولا تُدخل خطوط أو مكتبات جديدة.

اجعل المكوّنات Responsive وAccessible برسائل تحقّق قصيرة وواضحة.

اعزل التغييرات داخل <PAGE_PATH> فقط.

(د) معايير القبول

يوجد قسم “ابدأ خطة طلب مشروعك” مع Wizard من 4 خطوات يعمل ذهابًا وإيابًا.

تظهر/تختفي الميزات الذكية بحسب نوع التنفيذ (موقع/متجر/منصّة).

الرفع يعمل ويعرض الملفات والقيود بوضوح.

الإرسال يعمل: API عند توفّره، وإلا Fallback (حفظ محلي + mailto).

لا تعديل خارج <PAGE_PATH>.